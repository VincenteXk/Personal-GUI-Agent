# å¿«é€Ÿå‚è€ƒæŒ‡å—

## è¿è¡Œè„šæœ¬

```bash
# 1. éªŒè¯ç¯å¢ƒï¼ˆå¯é€‰ï¼‰
python scripts/test_setup_v2.py

# 2. è¿è¡Œä¸»è„šæœ¬
python scripts/reinit_graph_with_profile.py
```

## è„šæœ¬æ¦‚è§ˆ

| æ–‡ä»¶ | ç”¨é€” | è¿è¡Œæ—¶é—´ |
|------|------|--------|
| `reinit_graph_with_profile.py` | ä¸»è„šæœ¬ï¼Œæ‰§è¡Œé‡åˆå§‹åŒ–å’Œæ‰¹é‡åŠ è½½ | 2-5 åˆ†é’Ÿ |
| `test_setup_v2.py` | ç¯å¢ƒéªŒè¯è„šæœ¬ | <1 ç§’ |

## VLM æ•°æ®è½¬æ¢ç¤ºä¾‹

### è¾“å…¥ (VLM JSON)
```json
{
  "analysis": {
    "app_name": "å¾®ä¿¡",
    "main_action": "åœ¨å¾®ä¿¡ä¸­æµè§ˆæœ‹å‹åœˆå’Œå‘ç°é¡µå†…å®¹",
    "detailed_actions": [
      {"time": "...", "action": "å¯åŠ¨æ¡Œé¢åº”ç”¨"},
      {"time": "...", "action": "æ‰“å¼€å¾®ä¿¡åº”ç”¨"}
    ],
    "intent": "æµè§ˆç¤¾äº¤åª’ä½“å†…å®¹",
    "key_observations": "æ— æ–‡æœ¬è¾“å…¥ï¼Œä¸»è¦æ´»åŠ¨åœ¨å¾®ä¿¡"
  }
}
```

### è¾“å‡º (è‡ªç„¶è¯­è¨€)
```
åœ¨2026å¹´1æœˆ12æ—¥11:28ï¼Œæˆ‘ä½¿ç”¨å¾®ä¿¡åº”ç”¨ã€‚
æˆ‘åœ¨å¾®ä¿¡ä¸­æµè§ˆæœ‹å‹åœˆå’Œå‘ç°é¡µå†…å®¹ã€‚
å…·ä½“æ“ä½œåŒ…æ‹¬ï¼šå¯åŠ¨æ¡Œé¢åº”ç”¨ï¼Œæ‰“å¼€å¾®ä¿¡åº”ç”¨ã€‚
æˆ‘çš„æ„å›¾æ˜¯æµè§ˆç¤¾äº¤åª’ä½“å†…å®¹ã€‚
æ— æ–‡æœ¬è¾“å…¥ï¼Œä¸»è¦æ´»åŠ¨åœ¨å¾®ä¿¡ã€‚
```

## æ–‡ä»¶ä½ç½®

| é¡¹ç›® | ä½ç½® |
|------|------|
| è¾“å…¥ | `data/eval/profile1/*/analysis/*_vlm.json` |
| é…ç½® | `graphrag/simple_graphrag/config/config.yaml` |
| è¾“å‡ºï¼ˆå›¾ï¼‰ | `graphrag/simple_graphrag/output/graph.pkl` |
| è¾“å‡ºï¼ˆå¯è§†åŒ–ï¼‰ | `graphrag/simple_graphrag/output/graph_visualization.html` |
| å¤‡ä»½ | `graphrag/simple_graphrag/output/graph.pkl.backup` |

## å¹¶å‘é…ç½®

```
æå– Workers: 3 ä¸ªï¼ˆå¹¶è¡Œï¼‰
   â†“ æ¯ä¸ªå¤„ç†ä¸€ä¸ª VLM æ–‡ä»¶
   â†“
åˆå¹¶ Worker: 1 ä¸ªï¼ˆä¸²è¡Œï¼‰
   â†“ LLM æ™ºèƒ½åˆå¹¶
   â†“
æœ€ç»ˆå›¾æ•°æ®åº“
```

## æ•…éšœæ’é™¤

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|------|---------|
| æ‰¾ä¸åˆ° VLM æ–‡ä»¶ | æ£€æŸ¥ `data/eval/profile1` ç›®å½• |
| å¯¼å…¥é”™è¯¯ | è¿è¡Œ `test_setup_v2.py` æ£€æŸ¥ç¯å¢ƒ |
| ä»»åŠ¡å¤±è´¥ | æ£€æŸ¥ API å¯†é’¥å’Œç½‘ç»œè¿æ¥ |
| å†…å­˜ä¸è¶³ | å‡å°‘ `max_concurrent_tasks` |

## å›æ»šæ•°æ®åº“

```bash
# æ¢å¤å¤‡ä»½
mv graphrag/simple_graphrag/output/graph.pkl graphrag/simple_graphrag/output/graph.pkl.new
mv graphrag/simple_graphrag/output/graph.pkl.backup graphrag/simple_graphrag/output/graph.pkl
```

## é¢„æœŸè¾“å‡º

```
âœ“ å·²å¤‡ä»½å›¾æ•°æ®åº“
âœ“ å›¾æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ
âœ“ æ‰¾åˆ° 7 ä¸ª VLM åˆ†ææ–‡ä»¶
âœ“ ä»»åŠ¡å·²æäº¤: task_xxx... (1/7)
âœ“ ä»»åŠ¡å·²æäº¤: task_yyy... (2/7)
... (ç»§ç»­å¤„ç†)
âœ“ æ‰€æœ‰ä»»åŠ¡å¤„ç†å®Œæˆ! (å®Œæˆ: 7, å¤±è´¥: 0)

å›¾æ•°æ®åº“ç»Ÿè®¡ï¼š
  - å®ä½“æ•°: ~250
  - å…³ç³»æ•°: ~180
  - ç±»æ•°: ~12
```

## æ‰©å±•ä½¿ç”¨

### ä¿®æ”¹å¹¶å‘æ•°
ç¼–è¾‘è„šæœ¬ä¸­ `GraphDatabaseManager.initialize_database()`:
```python
max_concurrent_tasks=5  # æ”¹æˆ 5
```

### å¤„ç†å…¶ä»– Profile
ç¼–è¾‘è„šæœ¬ä¸­ `main()` å‡½æ•°:
```python
loader = ProfileDataLoader(profile_path="data/eval/profile2")
```

### ç¦ç”¨æ™ºèƒ½åˆå¹¶
ç¼–è¾‘è„šæœ¬ä¸­ `GraphDatabaseManager.initialize_database()`:
```python
enable_smart_merge=False  # æ”¹æˆ False
```

## æ—¥å¿—æŸ¥çœ‹

æ‰€æœ‰æ—¥å¿—éƒ½ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºï¼ŒåŒ…æ‹¬ï¼š
- â„¹ï¸  ä¿¡æ¯æ—¥å¿—ï¼ˆè¿›åº¦ï¼‰
- âš ï¸  è­¦å‘Šæ—¥å¿—ï¼ˆè·³è¿‡æ–‡ä»¶ï¼‰
- âŒ é”™è¯¯æ—¥å¿—ï¼ˆå¤±è´¥åŸå› ï¼‰
- ğŸ” è°ƒè¯•æ—¥å¿—ï¼ˆè¯¦ç»†ä¿¡æ¯ï¼‰

## æ€§èƒ½ä¼°è®¡

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| å¤„ç† 7 æ¡è®°å½• | 2-5 åˆ†é’Ÿ |
| å•æ¡è®°å½• | 20-45 ç§’ |
| ç”Ÿæˆå®ä½“ | 200-300 |
| ç”Ÿæˆå…³ç³» | 150-250 |

## å…³é”®å‚æ•°

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| max_concurrent_tasks | 3 | å¹¶å‘æå–ä»»åŠ¡æ•° |
| enable_smart_merge | true | å¯ç”¨ LLM æ™ºèƒ½åˆå¹¶ |
| VLM æ–‡ä»¶æ•° | 7 | å¾…å¤„ç†çš„è®°å½•æ•° |

## å¤‡æ³¨

âš ï¸ **é‡è¦æç¤º**ï¼š
- è„šæœ¬ä¼šè¦†ç›–ç°æœ‰ graph.pkl
- è‡ªåŠ¨ç”Ÿæˆ .backup å¤‡ä»½æ–‡ä»¶
- éœ€è¦æœ‰æ•ˆçš„ API å¯†é’¥
- ç½‘ç»œè¿æ¥å¿…é¡»ç¨³å®š

âœ… **éªŒè¯æˆåŠŸ**ï¼š
- è¯­æ³•æ£€æŸ¥: âœ“
- å¯¼å…¥æµ‹è¯•: âœ“
- æ–‡ä»¶å‘ç°: âœ“ (7/7)
- é…ç½®éªŒè¯: âœ“

---

æ›´è¯¦ç»†çš„ä¿¡æ¯è¯·æŸ¥çœ‹ `README.md` å’Œ `COMPLETION_SUMMARY.md`
