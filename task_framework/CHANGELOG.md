# ä»»åŠ¡è°ƒåº¦æ¡†æ¶æ›´æ–°æ—¥å¿—

## [2.0.0] - 2026-01-08

### é‡å¤§é‡æ„ï¼šä»å·¥ä½œæµèŠ‚ç‚¹åˆ°æ„ŸçŸ¥-æ€è€ƒ-è¡ŒåŠ¨å¾ªç¯

#### æ–°å¢ âœ¨

- **æ„ŸçŸ¥-æ€è€ƒ-è¡ŒåŠ¨å¾ªç¯æ¶æ„**ï¼šå‚ç…§ `AutoGLM/phone_agent` çš„è®¾è®¡ï¼Œä½¿ç”¨å¤§æ¨¡å‹é©±åŠ¨çš„å†³ç­–å¾ªç¯
- **ä»»åŠ¡è°ƒåº¦æ“ä½œç³»ç»Ÿ**ï¼šå®šä¹‰äº† 14 ç§é«˜å±‚æ¬¡è°ƒåº¦æ“ä½œï¼ˆç”¨æˆ·äº¤äº’ã€ä»»åŠ¡åˆ†æã€æ‰§è¡Œå§”æ‰˜ç­‰ï¼‰
- **å¢å¼ºçš„ä¸Šä¸‹æ–‡ç®¡ç†**ï¼šæ”¯æŒæ‰§è¡Œå†å²ã€äº¤äº’å†å²ã€å¯¹è¯å†å²çš„å®Œæ•´è®°å½•
- **ç³»ç»Ÿæç¤ºè¯æ¨¡å—**ï¼šå®Œæ•´çš„ä»»åŠ¡è°ƒåº¦æç¤ºè¯ï¼ŒæŒ‡å¯¼å¤§æ¨¡å‹è¿›è¡Œå†³ç­–
- **çŠ¶æ€æ„ŸçŸ¥æœºåˆ¶**ï¼šæ¯æ­¥å¾ªç¯æ”¶é›†å½“å‰çŠ¶æ€ã€å†å²ã€ç»“æœç­‰ä¸Šä¸‹æ–‡ä¿¡æ¯

#### æ”¹è¿› ğŸ”„

- **åŠ¨æ€è·¯å¾„è§„åˆ’**ï¼šå¤§æ¨¡å‹æ ¹æ®å®é™…æƒ…å†µåŠ¨æ€å†³å®šæ‰§è¡Œè·¯å¾„ï¼Œä¸å†å—é™äºé¢„å®šä¹‰æµç¨‹
- **æ›´å¥½çš„å†å²è¿½è¸ª**ï¼šè®°å½•æ¯ä¸ªæ“ä½œçš„æ‰§è¡Œæ—¶é—´ã€ç»“æœã€çŠ¶æ€ç­‰è¯¦ç»†ä¿¡æ¯
- **æ™ºèƒ½ç”¨æˆ·äº¤äº’**ï¼šæ ¹æ®ä»»åŠ¡çŠ¶æ€å’Œé£é™©ç­‰çº§æ™ºèƒ½å†³å®šä½•æ—¶ä¸ç”¨æˆ·äº¤äº’
- **çµæ´»çš„çŠ¶æ€è½¬ç§»**ï¼šçŠ¶æ€ç”±å¤§æ¨¡å‹å†³ç­–ï¼Œæ”¯æŒæ›´å¤æ‚çš„ä»»åŠ¡åœºæ™¯

#### å¼ƒç”¨ âš ï¸

- `workflow/engine.py` å’Œ `workflow/nodes.py`ï¼šé¢„å®šä¹‰å·¥ä½œæµèŠ‚ç‚¹æ¨¡å¼å·²å¼ƒç”¨
- æ—§çš„åŸºäºèŠ‚ç‚¹çš„æ‰§è¡Œæµç¨‹ï¼šæ”¹ä¸ºå¾ªç¯å¼æ‰§è¡Œ

#### æ ¸å¿ƒæ–‡ä»¶

- `agent.py`ï¼šé‡å†™ä¸ºæ„ŸçŸ¥-æ€è€ƒ-è¡ŒåŠ¨å¾ªç¯
- `actions/scheduler_actions.py`ï¼šæ–°å¢ï¼Œå®šä¹‰æ‰€æœ‰è°ƒåº¦æ“ä½œ
- `prompts.py`ï¼šæ–°å¢ï¼Œç³»ç»Ÿæç¤ºè¯å’Œæ¶ˆæ¯æ¨¡æ¿
- `context.py`ï¼šå¢å¼ºï¼Œæ”¯æŒå¤šç§å†å²è®°å½•
- `config.py`ï¼šæ‰©å±•ï¼Œæ”¯æŒæ¨¡å‹é…ç½®

#### æ¶æ„å¯¹æ¯”

**æ—§æ¶æ„**ï¼š

```
WorkflowEngine -> æ‰§è¡ŒèŠ‚ç‚¹ -> æ¡ä»¶åˆ¤æ–­ -> ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
```

**æ–°æ¶æ„**ï¼š

```
while not finished:
    æ„ŸçŸ¥ï¼ˆæ”¶é›†çŠ¶æ€ï¼‰-> æ€è€ƒï¼ˆæ¨¡å‹å†³ç­–ï¼‰-> è¡ŒåŠ¨ï¼ˆæ‰§è¡Œæ“ä½œï¼‰-> æ›´æ–°ä¸Šä¸‹æ–‡
```

#### æ“ä½œç±»å‹

**ç”¨æˆ·äº¤äº’ç±»**ï¼š

- AskUser - è¯¢é—®ç”¨æˆ·
- Confirm - è¯·æ±‚ç¡®è®¤
- ShowInfo - æ˜¾ç¤ºä¿¡æ¯
- ShowPreview - æ˜¾ç¤ºé¢„è§ˆ
- GetChoice - è·å–é€‰æ‹©
- RequestInfo - è¯·æ±‚ä¿¡æ¯

**ä»»åŠ¡ç®¡ç†ç±»**ï¼š

- AnalyzeTask - åˆ†æä»»åŠ¡
- GeneratePlan - ç”Ÿæˆè®¡åˆ’
- DelegateTask - å§”æ‰˜æ‰§è¡Œ
- CheckDevice - æ£€æŸ¥è®¾å¤‡

**çŠ¶æ€ç®¡ç†ç±»**ï¼š

- UpdateState - æ›´æ–°çŠ¶æ€
- RecordExecution - è®°å½•æ‰§è¡Œ
- RequestTakeover - è¯·æ±‚æ¥ç®¡
- UpdateProfile - æ›´æ–°ç”»åƒ

#### ä½¿ç”¨ç¤ºä¾‹

```python
from task_framework import TaskAgent, TaskAgentConfig
from task_framework.implementations import TerminalUserInput, TerminalUserInteraction

config = TaskAgentConfig(max_steps=50, verbose=True)
agent = TaskAgent(
    user_input=TerminalUserInput(),
    user_interaction=TerminalUserInteraction(),
    model_client=your_model_client,  # å¯é€‰
    config=config,
)
agent.run()
```

#### è¿ç§»æŒ‡å—

1. åˆ é™¤æ‰€æœ‰ `WorkflowNode` å’Œ `WorkflowEngine` çš„ä½¿ç”¨
2. æ”¹ç”¨ `TaskAgent` çš„å¾ªç¯æ¶æ„
3. å¦‚æœæœ‰è‡ªå®šä¹‰å†³ç­–é€»è¾‘ï¼Œå®ç° `model_client` æ¥å£æˆ–é‡å†™ `_fallback_decision`
4. åˆ©ç”¨ç³»ç»Ÿæç¤ºè¯å¼•å¯¼æ¨¡å‹è¡Œä¸ºï¼Œè€Œéç¡¬ç¼–ç é€»è¾‘

#### æ–‡æ¡£

- `task_framework/README.md`ï¼šå®Œæ•´çš„æ¶æ„è¯´æ˜å’Œä½¿ç”¨æŒ‡å—
- `examples/task_scheduler_demo.py`ï¼šä½¿ç”¨ç¤ºä¾‹

---

## [1.0.0] - 2026-01-08ï¼ˆä¹‹å‰ï¼‰

### åˆå§‹ç‰ˆæœ¬

- åŸºäºé¢„å®šä¹‰å·¥ä½œæµèŠ‚ç‚¹çš„ä»»åŠ¡æ‰§è¡Œæ¡†æ¶
- WorkflowEngine å’Œ WorkflowNode ç³»ç»Ÿ
- åŸºæœ¬çš„ç”¨æˆ·äº¤äº’å’Œè®¾å¤‡èƒ½åŠ›æ¥å£
